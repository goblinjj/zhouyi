<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <title>六爻排盘 - 在线摇卦占卜工具</title>
    <meta name="description" content="六爻排盘在线工具，支持铜钱摇卦、自动排盘、装卦纳甲，附高岛易断详解。显示日期干支、旬空等信息。">
    <meta name="keywords" content="六爻排盘,六爻占卜,摇卦,铜钱占卜,纳甲,高岛易断,周易,在线排盘">
    <link rel="canonical" href="https://zhouyi.goblin.top/hexagram/">
    <meta property="og:title" content="六爻排盘 - 在线摇卦占卜工具">
    <meta property="og:description" content="六爻排盘在线工具，支持铜钱摇卦、自动排盘，附高岛易断详解。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zhouyi.goblin.top/hexagram/">
    <meta property="og:locale" content="zh_CN">
    <link rel="stylesheet" href="css/style.css?v=__BUILD_VER__">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "六爻排盘",
      "url": "https://zhouyi.goblin.top/hexagram/",
      "description": "六爻排盘在线工具，支持铜钱摇卦、自动排盘、装卦纳甲，附高岛易断详解。",
      "applicationCategory": "LifestyleApplication",
      "inLanguage": "zh-CN",
      "isPartOf": {
        "@type": "WebSite",
        "name": "周易",
        "url": "https://zhouyi.goblin.top/"
      }
    }
    </script>
</head>

<body>
    <div class="container">
        <header>
            <h1><a class="taiji-home" href="/"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="tc"><circle cx="100" cy="100" r="100"/></clipPath></defs><g clip-path="url(#tc)"><circle cx="100" cy="100" r="100" fill="#faf6ef"/><rect x="100" y="0" width="100" height="200" fill="#3a2e2a"/><circle cx="100" cy="50" r="50" fill="#3a2e2a"/><circle cx="100" cy="150" r="50" fill="#faf6ef"/><circle cx="100" cy="50" r="12" fill="#faf6ef"/><circle cx="100" cy="150" r="12" fill="#3a2e2a"/></g><circle cx="100" cy="100" r="96" fill="none" stroke="#c4a97d" stroke-width="3"/></svg></a>六爻排盘</h1>
            <nav class="study-nav" style="margin-bottom:8px;">
                <a href="study.html" style="color:var(--accent-gold);text-decoration:none;font-size:0.9em;letter-spacing:0.05em;">六十四卦</a>
            </nav>
            <div id="date-info" class="date-info">
                <!-- Date info will be populated here -->
            </div>
        </header>

        <main>
            <div class="controls">
                <div id="coin-container" class="coin-container" style="display:none;">
                    <div class="coin"></div>
                    <div class="coin"></div>
                    <div class="coin"></div>
                </div>
                <button id="cast-btn">起卦</button>
                <button id="manual-input-btn">手动排盘</button>
                <button id="reset-btn" style="display:none;">重置</button>
                <div id="status-message">点击按钮开始起卦...</div>

                <div id="manual-input-panel" class="manual-input-panel" style="display:none;">
                    <div class="manual-input-grid">
                        <div class="manual-row" data-line="5">
                            <span class="manual-label">上爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line5" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line5" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line5" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line5" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                        <div class="manual-row" data-line="4">
                            <span class="manual-label">五爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line4" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line4" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line4" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line4" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                        <div class="manual-row" data-line="3">
                            <span class="manual-label">四爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line3" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line3" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line3" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line3" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                        <div class="manual-row" data-line="2">
                            <span class="manual-label">三爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line2" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line2" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line2" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line2" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                        <div class="manual-row" data-line="1">
                            <span class="manual-label">二爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line1" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line1" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line1" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line1" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                        <div class="manual-row" data-line="0">
                            <span class="manual-label">初爻</span>
                            <div class="manual-options">
                                <label><input type="radio" name="line0" value="9"><span class="opt-btn">老阳⚊○</span></label>
                                <label><input type="radio" name="line0" value="7" checked><span class="opt-btn">少阳⚊</span></label>
                                <label><input type="radio" name="line0" value="8"><span class="opt-btn">少阴⚋</span></label>
                                <label><input type="radio" name="line0" value="6"><span class="opt-btn">老阴⚋×</span></label>
                            </div>
                        </div>
                    </div>
                    <button id="manual-submit-btn">排盘</button>
                </div>
            </div>

            <div class="divination-area">
                <div id="primary-hexagram" class="hexagram-container" style="display:none;">
                    <h2>本卦</h2>
                    <div class="hexagram-subtitle"></div>
                    <div class="hexagram-lines"></div>
                    <div class="hexagram-info"></div>
                </div>

                <div id="varied-hexagram" class="hexagram-container" style="display:none;">
                    <h2>变卦</h2>
                    <div class="hexagram-subtitle"></div>
                    <div class="hexagram-lines"></div>
                    <div class="hexagram-info"></div>
                </div>
            </div>

            <div id="history-section" class="history-section" style="display:none;">
                <h3 class="history-title">历史记录</h3>
                <div id="history-list" class="history-list"></div>
            </div>
        </main>
    </div>

    <!-- Takashima Modal -->
    <div id="takashima-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-title"></h2>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- AI Interpret Modal -->
    <div id="ai-modal" class="modal">
        <div class="modal-content">
            <span class="ai-close-btn close-btn">&times;</span>
            <h2 id="ai-modal-title">AI 解卦</h2>
            <div id="ai-modal-body">
                <div id="ai-input-area">
                    <label for="ai-question" class="ai-label">请输入占卜事件：</label>
                    <textarea id="ai-question" class="ai-textarea" rows="3" maxlength="200" placeholder="例如：问事业发展、感情走向、投资决策..."></textarea>
                    <button id="ai-submit-btn" class="ai-submit-btn">开始解卦</button>
                </div>
                <div id="ai-result-area" style="display:none;">
                    <div id="ai-content" class="ai-content"></div>
                    <div id="ai-error" class="ai-error" style="display:none;"></div>
                    <button id="ai-retry-btn" class="ai-retry-btn" style="display:none;">重试</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>
